<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>登录</title>
	<link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css" />
  <script src="js/jquery.min.js"></script>
  <script src="js/jquery.mobile-1.4.5.min.js"></script>
  <script>
  window.onload=function(){
    var fname=document.getElementById("fname");
    fname.onfocus=function(){
      fname.value='';
    }
    fname.onchange=function(){
      var fnv=fname.value;
      if(fnv.length>=6&&fnv.length<=20)
      {
         var pattern=/^[a-zA-Z0-9_]{6,20}$/;
         if(!(pattern.test(fnv)))
         {
          alert("用户名包含非法字符！");
         }
      }
      else
      {
        alert("非法的用户名长度！");
      }
      var fpv=fpwd.value;
      if(fnv.length>=6&&fnv.length<=20)
      {
         var pattern=/^[a-zA-Z0-9]{6,20}$/;
         if(!(pattern.test(fnv)))
         {
          alert("密码包含非法字符！");
         }
      }
      else
      {
        alert("非法的密码长度！");
      }
    }

  $("#sub").click(function(){
    $fname=$("#fname").value;
    $fpwd=$("#fpwd").value;
    $.ajax({
      type:'post',
      url:"php/save.php",
      data:{
        username:$fname,
        password:$fpwd
      },
      datatype:'json',
      success:function(){
        alert("登录成功！");
         window.location.href="message.html";
      },
      error:function(){
      alert("error!");
      }
    })
  })

  }
  </script>
</head>
<body>
	<div data-role="page">

  <div data-role="header">
    
  </div>

  <div data-role="content">
  <img style="display:block;width:70%;height:70%;margin:30px auto;" src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1508898383&di=2674243518f30bc8403e6524eecc5ad1&imgtype=jpg&er=1&src=http%3A%2F%2Fpic.nipic.com%2F2007-12-15%2F20071215192850125_2.jpg" alt=""/>
  <form method="post" action="demo_form.asp">
  <label for="fname" class="ui-hidden-accessible">用户名： </label>
    <input type="text" name="fname" id="fname" placeholder="用户名" value="字母、数字下划线，在6-20位间">
    <label for="fname" class="ui-hidden-accessible">密码： </label>
    <input type="password" name="fpwd" id="fpwd" placeholder="密码">
    <input type="submit" value="登录" id="sub">
  </form>

  </div>

  <div data-role="footer">
  </div>
</body>

</html>